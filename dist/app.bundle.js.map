{"version":3,"sources":["webpack://es6-tutorial2/./src/mortgage2.js","webpack://es6-tutorial2/./src/main.js"],"names":["Mortgage","constructor","principal","years","rate","this","monthlyRate","Math","pow","monthlyPayment","balance","amortization","y","interestY","principalY","m","interestM","principalM","push","document","getElementById","addEventListener","value","mortgage","innerHTML","toFixed","html","forEach","year","index","round"],"mappings":"mBAAe,MAAMA,EAEjBC,YAAYC,EAAWC,EAAOC,GAC1BC,KAAKH,UAAYA,EACjBG,KAAKF,MAAQA,EACbE,KAAKD,KAAOA,EAGhB,qBACI,IAAIE,EAAcD,KAAKD,KAAO,IAAM,GACpC,OAAOC,KAAKH,UAAYI,GAAe,EAAKC,KAAKC,IAAI,GAAK,EAAIF,GAC7C,GAAbD,KAAKF,QAGb,mBACI,IAAIM,EAAiBJ,KAAKI,eACtBH,EAAcD,KAAKD,KAAO,IAAM,GAChCM,EAAUL,KAAKH,UACfS,EAAe,GACnB,IAAK,IAAIC,EAAI,EAAGA,EAAIP,KAAKF,MAAOS,IAAK,CACjC,IAAIC,EAAY,EACZC,EAAa,EACjB,IAAK,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAK,CACzB,IAAIC,EAAYN,EAAUJ,EACtBW,EAAaR,EAAiBO,EAClCH,GAAwBG,EACxBF,GAA0BG,EAC1BP,GAAoBO,EAExBN,EAAaO,KAAK,CAAEJ,aAAYD,YAAWH,YAE/C,OAAOC,GCffQ,SAASC,eAAe,WAAWC,iBAAiB,SAAS,KACzD,IAAInB,EAAYiB,SAASC,eAAe,aAAaE,MACjDnB,EAAQgB,SAASC,eAAe,SAASE,MACzClB,EAAOe,SAASC,eAAe,QAAQE,MACvCC,EAAW,IAAIvB,EAASE,EAAWC,EAAOC,GAC9Ce,SAASC,eAAe,kBAAkBI,UAAYD,EAASd,eAAegB,QAAQ,GACtFN,SAASC,eAAe,eAAeI,WAAapB,EAAO,IAAIqB,QAAQ,GACvE,IAAIC,EAAO,GACXH,EAASZ,aAAagB,SAAQ,CAACC,EAAMC,IAAUH,GAAS,mCAE1CG,EAAQ,4CACStB,KAAKuB,MAAMF,EAAKd,gLAIZc,EAAKd,2BAA2Bc,EAAKd,iIAGrCc,EAAKf,0BAA0Be,EAAKf,6HAInCN,KAAKuB,MAAMF,EAAKf,qDACrBN,KAAKuB,MAAMF,EAAKlB,uCAG/CS,SAASC,eAAe,gBAAgBI,UAAYE,M","file":"app.bundle.js","sourcesContent":["export default class Mortgage {\r\n\r\n    constructor(principal, years, rate) {\r\n        this.principal = principal;\r\n        this.years = years;\r\n        this.rate = rate;\r\n    }\r\n\r\n    get monthlyPayment() {\r\n        let monthlyRate = this.rate / 100 / 12;\r\n        return this.principal * monthlyRate / (1 - (Math.pow(1 / (1 + monthlyRate),\r\n            this.years * 12)));\r\n    }\r\n\r\n    get amortization() {\r\n        let monthlyPayment = this.monthlyPayment;\r\n        let monthlyRate = this.rate / 100 / 12;\r\n        let balance = this.principal;\r\n        let amortization = [];\r\n        for (let y = 0; y < this.years; y++) {\r\n            let interestY = 0;\r\n            let principalY = 0;\r\n            for (let m = 0; m < 12; m++) {\r\n                let interestM = balance * monthlyRate;\r\n                let principalM = monthlyPayment - interestM;\r\n                interestY = interestY + interestM;\r\n                principalY = principalY + principalM;\r\n                balance = balance - principalM;\r\n            }\r\n            amortization.push({ principalY, interestY, balance });\r\n        }\r\n        return amortization;\r\n    }\r\n\r\n}","/*\r\n--CASE 1 \r\nimport * as mortgage from './mortgage';\r\n\r\ndocument.getElementById('calcBtn').addEventListener('click', () => {\r\n    var principal = document.getElementById(\"principal\").value;\r\n    var years = document.getElementById(\"years\").value;\r\n    var rate = document.getElementById(\"rate\").value;\r\n    let { monthlyPayment, monthlyRate, amortization } = mortgage.calculateAmortization(principal, years, rate);\r\n    document.getElementById(\"monthlyPayment\").innerHTML = monthlyPayment.toFixed(2);\r\n    document.getElementById(\"monthlyRate\").innerHTML = (monthlyRate * 100).toFixed(2);\r\n    amortization.forEach(month => console.log(month));\r\n});\r\n*/\r\nimport Mortgage from './mortgage2';\r\n\r\ndocument.getElementById('calcBtn').addEventListener('click', () => {\r\n    let principal = document.getElementById(\"principal\").value;\r\n    let years = document.getElementById(\"years\").value;\r\n    let rate = document.getElementById(\"rate\").value;\r\n    let mortgage = new Mortgage(principal, years, rate);\r\n    document.getElementById(\"monthlyPayment\").innerHTML = mortgage.monthlyPayment.toFixed(2);\r\n    document.getElementById(\"monthlyRate\").innerHTML = (rate / 12).toFixed(2);\r\n    let html = \"\";\r\n    mortgage.amortization.forEach((year, index) => html += `\r\n        <tr>\r\n            <td>${index + 1}</td>\r\n            <td class=\"currency\">${Math.round(year.principalY)}</td>\r\n            <td class=\"stretch\">\r\n                <div class=\"flex\">\r\n                    <div class=\"bar principal\"\r\n                         style=\"flex:${year.principalY};-webkit-flex:${year.principalY}\">\r\n                    </div>\r\n                    <div class=\"bar interest\"\r\n                         style=\"flex:${year.interestY};-webkit-flex:${year.interestY}\">\r\n                    </div>\r\n                </div>\r\n            </td>\r\n            <td class=\"currency left\">${Math.round(year.interestY)}</td>\r\n            <td class=\"currency\">${Math.round(year.balance)}</td>\r\n        </tr>\r\n    `);\r\n    document.getElementById(\"amortization\").innerHTML = html;\r\n});"],"sourceRoot":""}